<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="description" content="Mesurer la température ambiante et la température d'un objet avec un MLX90614 : Programme de test en C# et description de la classe MLX90614 destinés aux cartes Netduino et FEZ">

  <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

  <title>MLX90614</title>
</head>

<body>

  <!-- HEADER -->
  <div id="header_wrap" class="outer">
    <header class="inner">
      <a id="forkme_banner" href="https://github.com/WebGE/MLX90614">View on GitHub</a>

      <h1 id="project_title">Capteur de température infrarouge sans contact MLX90614 (I²C)</h1>
      <h2 id="project_tagline">Description de la classe <strong><em>MLX90614</em></strong> développée en C# sous .NETMF 4.3 pour les cartes Netduino
        et FEZ (PANDA, COBRA...).</h2>

      <section id="downloads">
        <a class="zip_download_link" href="https://github.com/WebGE/MLX90614/zipball/master">Download this project as a .zip file</a>
        <a class="tar_download_link" href="https://github.com/WebGE/MLX90614/tarball/master">Download this project as a tar.gz file</a>
      </section>
    </header>
  </div>

  <!-- MAIN CONTENT -->
  <div id="main_content_wrap" class="outer">
    <section id="main_content" class="inner">
      <hr>
      <h4>Sommaire</h4>
      <ol>
        <li>LE MATERIEL
          <ol>
            <li>Le capteur MLX90614: Infrared Thermometer</li>
            <li><a href="#DUINO">Les cartes Netduino</a></li>
            <li><a href="#FEZ">Les cartes FEZ</a> </li>
          </ol>
        </li>
        <li><a href="#LOG">LE LOGICIEL</a>
          <ol>
            <li><a href="#REP">Contenu du répertoire proposé au téléchargement</a></li>
            <li><a href="#NUGET">Le NuGet MicroToolsKit</a></li>
            <li><a href="#WIKI">Les Wikis</a></li>
            <li><a href="#DESC">Description et utilisation de la classe MLX90614</a></li>
          </ol>
        </li>
      </ol>
      <hr>
      <h3>1. LE MATERIEL</h3>
      <hr>
      <h4>1.1 Le capteur MLX90614: Infrared Thermometer</h4>
      <hr>
      <ul>
        <li><strong>Présentation</strong></li>
        <p>Ce module capteur de température IR sans contact est basé sur un MLX90614 et comporte un convertisseur analogique-numérique
          et un DSP (Digital Signal Processor) pour des résultats fiables et précis. La valeur mesurée est la température
          moyenne de tous les objets dans le champ de vision du capteur. MLX90614 offre une précision standard de ± 0,5°C
          autour de la température ambiante. <br> Sortie d'information : PWM ou SMBus (I²C)
        </p>
        <li><strong>Caractéristiques</strong></li>
        <ul>
          <li><strong>Calibrage </strong>: de -40°C à 125°C pour la température ambiante TA, de -70°C à 380°C pour la température
            d'un objet TO</li>
          <li><strong>Précision </strong>: 0,5°C (de 0 à 50°C pour TA et TO)</li>
          <li><strong>Résolution </strong>: 0,02°C</li>
          <li><strong>Adressage </strong>: 127 appareils</li>
        </ul>
        <li><strong>Schéma</strong></li>
        <p align="center"><img src="images/mlx90614sch.png"></p>
        <li><strong>Schéma interne du composant</strong></li>
        <p align="center"><img src="images/MLX614 BD.png"></p>
        <li><strong>La RAM</strong></li>
        <p align="center"><img src="images/RAM.png"></p>
        <li><strong>Documentation </strong>: <a href="datasheets/MLX90614_en.pdf">pdf</a></li>
        <li><strong>Distributeur </strong>: <a href="http://www.gotronic.fr/">Go Tronic</a></li>
      </ul>

      <h4>Module MLX90614</h4>
      <hr>
      <table width="100%" align="center" maj>
        <tr align="center" maj>
          <td><strong>DFROBBOT</strong></td>
        </tr>
        <tr align="center">
          <td><img src="images/MLX90614.png"></td>
        </tr>
        <tr align="center">
          <td><a href="http://www.gotronic.fr/art-capteur-de-temperature-ir-sen0206-25561.htm" target="_blank">Documentation</a>            -
            <a href="datasheets/IR Thermometer Sensor-MLX90614 schematic">Schéma</a>
          </td>
        </tr>
      </table>
      <hr>
      <h4 id="DUINO">1.2 Les cartes Netduino</h4>
      <h5>Secret Labs</h5>
      <hr>
      <ul>
        <li><strong>Microcontrôleur</strong> : STM32F405RG 32 bits à architecture Cortex-M4 cadencé à 168 MHz.</li>
        <li><strong>RAM</strong> : 164KB+.</li>
        <li><strong>Flash</strong> : 1408KB.</li>
        <li><strong>Port Ethernet : </strong> 10/100Mbps (Wifi:802.11b/g/n)*.</li>
        <li><strong>E/S numériques</strong> : 22</li>
        <li><strong>Entrées analogiques</strong> : 6</li>
        <li><strong>Stockage</strong>: carte µSD</li>
        <li><strong>IDE</strong> : Microsoft Visual Studio</li>
        <li><strong>Framework</strong> : .NETMF 4.3</li>
        <li><strong>Langages de programmation</strong> : C#, VB</li>
        <li><strong>Compatibilité</strong> : shield Arduino, Gadgeteer</li>
      </ul>
      <table>
        <tr>
          <td><img src="images/netduino3ethernet.png " alt="Netduino plus 2 " target="_blank " /></td>
          <td><img src="images/inputandoutput.png " alt="Netduino 3 wifi " target="_blank " /></td>
        </tr>
        <tr>
          <td align="center"><strong>Netduino 3 Ethernet</strong></td>
          <td align="center"><strong>Netduino 3 wifi*</strong></td>
        </tr>
      </table>
      <ul>
        <li><strong>Sites à consulter</strong> : <a href="http://netduino.com/netduinoplus2/specs.htm " target="_blank ">Netduino</a>,
          <a href="http://www.netmf.com/ " target="_blank ">NETMF</a></li>
        <li><strong>Distributeurs</strong> :
          <a href="http://www.mouser.fr/Search/Refine.aspx?Keyword=netduino
            " target="_blank ">Mouser Electronics</a>
        </li>
      </ul>
      <hr>

      <h4 id="FEZ">1.3 Les cartes FEZ</h4>
      <h5>GHI Electonics (Extrait)</h5>
      <hr>
      <ul>
        <li><strong>Microcontrôleur</strong> : 180 MHz 32-bit ARM Cortex-M4.(120 MHz 32-bit ARM Cortex-M3 )*</li>
        <li><strong>SoC(SoM)*</strong> : <a href="https://www.ghielectronics.com/catalog/product/501 " target="_blank ">G80</a>
          <a href="https://www.ghielectronics.com/catalog/product/373 " target="_blank ">G120*</a>
        </li>
        <li><strong>RAM</strong> : 156 KB(2.87 MB)*.</li>
        <li><strong>Flash</strong> : 256 KB (13.67 MB)*.</li>
        <li><strong>E/S numériques</strong> : 53(60)*</li>
        <li><strong>Entrées analogiques</strong> : 16(8)*</li>
        <li><strong>Réseaux : </strong> Ethernet TCP/IP, WiFi, and SSL.</li>
        <li><strong>Stockage</strong>: carte µSD</li>
        <li><strong>IDE</strong> : Microsoft Visual Studio</li>
        <li><strong>Framework</strong> : .NETMF 4.3</li>
        <li><strong>Langages de programmation</strong> : C#, VB</li>
      </ul>

      <table>
        <tr>
          <td><img src="images/panda3.png " alt="PANDA III " /></td>
          <td><img src="images/cobra3.png " alt="COBRA III " /></td>
        </tr>
        <tr>
          <td align="center"><strong>PANDA III</strong></td>
          <td align="center"><strong>COBRA III* (compatible Gadgeteer)</strong></td>
        </tr>
      </table>

      <ul>
        <li><strong>Sites à consulter</strong> : <a href="https://www.ghielectronics.com/ " target="_blank ">GHI ELECTRONICS</a>,
          <a href="http://www.netmf.com/ " target="_blank ">NETMF</a></li>
        <li><strong>Distributeurs</strong> : <a href="http://www.mouser.fr " target="_blank ">Mouser Electronics</a></li>
      </ul>

      <hr>
      <h3 id="LOG">2. LE LOGICIEL</h3>
      <hr>

      <h4 id="REP">2.1 Contenu du répertoire proposé au téléchargement</h4>
      <hr>
      <p>Le répertoire proposé au téléchargement (au format zip ou tar.gz) contient la solution <strong>MLX90614</strong> composée
        :
      </p>
      <ul>
        <li>Du projet <strong>MLX90614</strong>: le <strong>code source</strong> de la classe <em>MLX90614</em>.</li>
        <li>Du projet <strong>Netduino</strong>: un exemple d'utilisation de cette classe avec une carte Netduino.</li>
        <li>Du projet <strong>FezPanda</strong>: un exemple d'utilisation de cette classe avec une carte Fez Panda.</li>
      </ul>
      <hr>

      <h4 id="NUGET">2.2 Le NuGet MicroToolsKit</h4>
      <p>La dernière version <strong>compilée</strong> de la classe <strong>MLX90614</strong> se situe dans la bibliothèque
        <strong>MicroToolsKit</strong> disponible sur <a href="https://www.nuget.org/packages/WebGE.MicroToolsKit/" target="_blank">nuget.org</a>.</p>
      <p align="center"><img src="images/NuGet-large.png " /></p>
      <p><strong>Organisation des classes</strong> contenues dans MicroToolsKit
        <a href="https://csharpembarquenetduino.wikispaces.com/6.+La+biblioth%C3%A8que+MicroToolsKit " target="_blank ">[lien]</a>
      </p>
      <p><em>Installer ce nuget dans le projet Visual Studio simplifie l'utilisation de la classe.</em></p>
      <hr>

      <h4 id="WIKI">2.3 Les Wikis</h4>
      Des wikis sont dédiés aux cartes Netduino et GHI Fez. Ils proposent au téléchargement :
      <ul>
        <li><strong>Deux fascicules</strong> d'exemples de code pour les cartes <strong>Netduino</strong>.
          <a href="https://csharpembarquenetduino.wikispaces.com/5.+Les+fascicules+d%27exemples+cod%C3%A9s+en+CSharp " target="_blank ">[lien]</a>
        </li>
        <li><strong>Un fascicule</strong> d'exemples de code pour les cartes <strong>GHI FEZ</strong>.
          <a href="https://csharpembarquefez.wikispaces.com/5.+Les+fascicules+d%27exemples+cod%C3%A9s+en+CSharp " target="_blank ">[lien]</a>
        </li>
      </ul>
      <hr>

      <h4 id="DESC">2.4 Description et utilisation de la classe MLX90614</h4>
      <ul>
        <li><strong>Rôle: </strong>Contrôler un capteur de température MLX90614 via un bus I²C.</li>
        <li><strong>Assembly: </strong> <em>MicroToolsKit</em> (disponible sur
          <a href="https://www.nuget.org/packages/WebGE.MicroToolsKit/ " target="_blank
            ">nuget.org</a>)</li>
        <li><strong>Espace de noms: </strong><em>Microtoolskit.Hardware.Sensors</em></li>
      </ul>
      <hr>

      <p><strong>Création d'un projet avec l'IDE Visual Studio 2015</strong></p>
      <hr>
      <ol>
        <li><strong>Créer </strong>un nouveau projet en suivant la démarche décrite dans le chapitre <em>"Premier programme en C# étape par étape"</em>          du Wiki dédié à une carte <strong>Netduino</strong> ou du Wiki dédié à une carte <strong>GHI Fez. </strong>Ces
          Wikis sont accessibles
          <a href="https://csharpembarquenetduino.wikispaces.com/6.+MicroToolsKit+library" target="_blank">ici</a>.</li>
        <li><strong>Utiliser</strong> le gestionnaire de paquets NuGet pour <strong>ajouter</strong> la bibliothèque <strong>MicroToolsKit</strong>          (
          <a href="https://www.nuget.org/packages/WebGE.MicroToolsKit/ " target="_blank ">nuget.org</a>) dans le projet.
          (Dans l'explorateur de solution, clic droit sur les <em>Références</em> du projet puis choisir <em>Gérer les packages NuGet...</em>.<strong> Installer</strong>          le paquet.)</li>
        <li><strong>Ajouter</strong> l'espace de noms <strong>Microtoolskit.Hardware.Sensors</strong> dans l'en-tête du fichier
          source.
        </li>
        <li><strong>Créer</strong> un objet en utilisant le constructeur <em>MLX90614</em>.</li>
        <li><strong>Utiliser</strong> la méthode <strong>Read_TA_AsCelcius</strong> pour mesurer la température de l'air et la
          méthode
          <strong>Read_Tobj_AsCelcius pour mesurer la température d'un objet</strong> et obtenir le résultat en °C.</li>
      </ol>
      <hr>
      <strong>Exemple</strong><br>
      <pre>
using System.Threading;
using Microsoft.SPOT;
using Microtoolskit.Hardware.Sensors;

namespace test
{
    public class Program
    {
        public static void Main()
        {
          MLX90614 tempIR = new MLX90614();

             while (true)
             {
               Debug.Print("Température Air = " + tempIR.Read_TA_AsCelcius().ToString("F1") + " °C");
               Debug.Print("Température IR = " + tempIR.Read_Tobj_AsCelcius().ToString("F1") + " °C");
               Debug.Print("---------------------");
               Thread.Sleep(500);
             }
        }
    }
}
			</pre>

      <p><strong>Constructeur</strong></p>
      <table width="100%">
        <tr>
          <td></td>
          <td><strong>Syntaxe</strong></td>
          <td><strong>Description</strong></td>
        </tr>
        <tr>
          <td><img src="images/Method_16x.png"></td>
          <td><strong>MLX90614</strong>(<strong>ushort</strong> <em>SLA</em>, <strong>short</strong> <em>Frequency</em> )</td>
          <td>Instancie un objet "MLX90614". <br><strong>SLA : </strong>Addresse sur le bus I²C entre 0x01 et 0x7F. <br> SLA=
            0x5A par défaut.
            <br><strong>Frequency: </strong>Féquence du signal SCL entre 10kHz et 100kHz <br> Frequency = 50kHz. (par défaut)
            <br> <br>
            <strong>Exemple</strong><br>
            <em> MLX90614 tempIR = new MLX90614();</em>
          </td>
        </tr>
      </table>

      <p><strong>Méthodes publiques</strong></p>
      <table width="100%">
        <tr>
          <td></td>
          <td><strong>Syntaxe</strong></td>
          <td><strong>Description</strong></td>
        </tr>
        <tr>
          <td><img src="images/Method_16x.png"></td>
          <td><strong>double Read_TA_AsCelcius()</strong></td>
          <td>Renvoi la température de l'air en °C. <br> Note : Une exception System.IO.IOException est générée avec le message "I2CBus
            error + SLA" en cas d'échec de la communication.
          <br> <br>
          <strong>Exemple</strong><br>
          <em>double temperature_A = tempIR.Read_TA_AsCelcius();</em>
          </td>
        </tr>
        <tr>
          <td><img src="images/Method_16x.png"></td>
          <td><strong>double Read_TA_AsFahrenheit()</strong></td>
          <td>Renvoi la température de l'air en °F. <br> Note : Une exception System.IO.IOException est générée avec le message "I2CBus
            error + SLA" en cas d'échec de la communication.
            <br> <br>
          <strong>Exemple</strong><br>
          <em>double temperature_A = tempIR.Read_TA_AsFahrenheit();</em>
          </td>
        </tr>
        <tr>
          <td><img src="images/Method_16x.png"></td>
          <td><strong>double Read_Tobj_AsCelcius()</strong></td>
          <td>Renvoi la température de l'objet en °C. <br> Note : Une exception System.IO.IOException est générée avec le message "I2CBus
            error + SLA" en cas d'échec de la communication.
            <br> <br>
          <strong>Exemple</strong><br>
          <em>double temperature_O = tempIR.Read_Tobj_AsCelcius();</em>
          </td>
        </tr>
        <tr>
          <td><img src="images/Method_16x.png"></td>
          <td><strong>double Read_Tobj_AsFahrenheit()</strong></td>
          <td>Renvoi la température de l'objet en °F. <br> Note : Une exception System.IO.IOException est générée avec le message "I2CBus
            error + SLA" en cas d'échec de la communication.
            <br> <br>
          <strong>Exemple</strong><br>
          <em>double temperature_O = tempIR.Read_Tobj_AsFahrenheit();</em>
          </td>
        </tr>
      </table>
    </section>
  </div>

  <!-- FOOTER  -->
  <div id="footer_wrap" class="outer">
    <footer class="inner">
      <p class="copyright">Classe <strong><em>MLX90614</em></strong> développée en C# sous .NETMF 4.3 pour les cartes Netduino
        et FEZ (PANDA, COBRA...). maintained by <a href="https://github.com/WebGE">WebGE</a></p>
      <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
    </footer>
  </div>



</body>

</html>